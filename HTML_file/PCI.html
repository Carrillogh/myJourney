<!DOCTYPE html>
<html>
<head>
<title>PCI MICHEL CAMP</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    background: black;
    color: white;
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  /* Watermark logo */
  #watermark {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0.20; /* Makes it faint */
    width: 50%;
    height: auto;
    max-width: none;
    max-height: none;
    z-index: 0;
    pointer-events: none;
  }

  h1 {
    font-size: 5vw;
    margin-bottom: 5vh;
    z-index: 1;
  }
  #timer {
    font-size: 15vw;
    z-index: 1;
  }
  #logo {
    position: absolute;
    top: 2%;
    right: 2%;
    max-width: 15vw;
    max-height: 15vh;
    height: auto;
  }
  #currentTime {
    position: absolute;
    bottom: 20px;
    left: 20px;
    font-size: 8vw;
    color: white;
    z-index: 2;
  }
</style>
</head>
<body>

<!-- Current Time -->
<div id="currentTime"></div>

<!-- Logo at top-right -->
<img src="file:///Z:/perez_logo/perez_logo.jpeg" alt="Logo" id="logo">

<!-- Watermark in center -->
<img src="file:///Z:/perez_logo/perez_logo.jpeg" alt="watermark" id="watermark">

<h1>PCI-MICHEL CAMP</h1>
<div id="timer">00:00</div>

<audio id="beep" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"></audio>

<script>
let countdown;
let alertTime = 40; // seconds before end to show WRAP UP
let minutes = 1; // <<< SET YOUR TIME HERE
let time = minutes * 60;
let beep = document.getElementById('beep');

function startTimer() {
  // Go full screen
  document.documentElement.requestFullscreen().catch(err => {
    console.log("Fullscreen request failed:", err);
  });

  countdown = setInterval(() => {
    if (time > alertTime) {
      let m = Math.floor(time / 60);
      let s = time % 60;
      document.getElementById('timer').innerHTML =
        (m < 10 ? "0" : "") + m + ":" + (s < 10 ? "0" : "") + s;
    } 
    else if (time > 0) {
      // Show WRAP UP and blink
      document.getElementById('timer').innerHTML = 
        (time % 2 === 0) ? "WRAP UP" : "";
      document.body.style.background = "blue";
    }
    else {
      // Time is up
      clearInterval(countdown);
      beep.play();
      document.getElementById('timer').innerHTML = 
        (time % 2 === 0) ? "TIME IS UP" : "";
      document.body.style.background = "red";
    }
    time--;
  }, 1000);
}

// Show current clock
function updateCurrentTime() {
    const now = new Date();
    const hours = now.getHours().toString().padStart(2, '0');
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const seconds = now.getSeconds().toString().padStart(2, '0');
    document.getElementById("currentTime").textContent = `${hours}:${minutes}:${seconds}`;
}
setInterval(updateCurrentTime, 1000);
updateCurrentTime();

// Start on click
document.addEventListener("click", startTimer, { once: true });
</script>

</body>
</html>